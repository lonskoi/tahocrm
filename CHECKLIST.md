# Чеклист проверки приложения

## Автоматические проверки

### Перед каждым коммитом (pre-commit)

✅ ESLint с автоисправлением
✅ Prettier для форматирования
✅ Проверка типов TypeScript

### Полная проверка

```bash
npm run check-all
```

Выполняет:

1. ✅ Проверку типов TypeScript
2. ✅ Линтинг кода
3. ✅ Запуск тестов
4. ✅ Проверку сборки

## Ручные проверки

### После изменений в API

- [ ] Проверить логи в `logs/application-*.log`
- [ ] Проверить обработку ошибок
- [ ] Убедиться что все действия логируются

### После изменений в базе данных

- [ ] Запустить миграции: `npm run db:migrate`
- [ ] Проверить схему: `npm run db:studio`
- [ ] Убедиться что индексы созданы

### После добавления нового функционала

- [ ] Написать тесты
- [ ] Добавить логирование
- [ ] Обновить документацию
- [ ] Проверить типы

## Мониторинг логов

### Просмотр логов в реальном времени

```bash
# Все логи
tail -f logs/application-*.log

# Только ошибки
tail -f logs/error-*.log
```

### Поиск проблем

```bash
# Ошибки за сегодня
grep "$(date +%Y-%m-%d)" logs/error-*.log

# Поиск по пользователю
grep "userId.*user-1" logs/application-*.log

# Поиск по действию
grep "CREATE_TASK" logs/application-*.log
```

## Структура логов

Каждый лог содержит:

- `timestamp` - время события
- `level` - уровень (info, warn, error, debug)
- `message` - описание события
- `context` - контекст (userId, tenantId, entityId и т.д.)
- `duration` - длительность операции (для API)
- `error` - детали ошибки (если есть)

## Примеры хороших логов

### ✅ Хорошо

```typescript
logger.info('GET /api/tasks - Success', {
  tenantId: 'tenant-1',
  userId: 'user-1',
  taskCount: 5,
  duration: '45ms',
  timestamp: new Date().toISOString(),
})
```

### ❌ Плохо

```typescript
console.log('Tasks loaded') // Нет контекста, нет структуры
```

## Проверка после деплоя

1. Проверить что логи создаются
2. Проверить что ошибки логируются
3. Проверить производительность (duration в логах)
4. Проверить что все API routes работают
5. Проверить что тесты проходят
